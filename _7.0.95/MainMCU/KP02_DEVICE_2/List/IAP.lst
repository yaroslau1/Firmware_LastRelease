###############################################################################
#
# IAR ANSI C/C++ Compiler V7.40.2.8542/W32 for ARM        08/Oct/2018  17:04:42
# Copyright 1999-2015 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\IAP.cpp
#    Command line =  
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\IAP.cpp -D IAR_ARM_CM4 -D
#        USE_STDPERIPH_DRIVER -D STM32F40_41xxx -D HAVE_CONFIG_H -D SD_SPI_MODE
#        -D USE_FULL_ASSERT -D DEVICE_2 -D TFT -D STENDBUY_NOT_USE -D
#        SCREEN_NOT_ROTATE -D USE_ADS1292R -D DISPLAY_GPIO -D BUFFERED_TRANSFER
#        -D LCD_TRACE -lCN
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\KP02_DEVICE_2\List\ -o
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\KP02_DEVICE_2\Obj\
#        --no_unroll --no_inline --no_tbaa --no_scheduling --debug
#        --endian=little --cpu=Cortex-M4F -e --fpu=VFPv4_sp --dlib_config
#        "D:\Program Files (x86)\IAR Systems\Embedded Workbench
#        7.2\arm\INC\c\DLib_Config_Normal.h" -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\ -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\FatFs\ -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\FreeRTOS\Source\include\
#        -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\FreeRTOS\Source\portable\IAR\ARM_CM3\
#        -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\Libraries\CMSIS\CM4\CoreSupport\
#        -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\Libraries\CMSIS\CM4\DeviceSupport\STM32F4xx\
#        -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\Libraries\STM32F4xx_StdPeriph_Driver\inc\
#        -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\Libraries\STM32F10x_Speex_Lib\include\speex\
#        -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\Libraries\STM32F10x_Speex_Lib\include\
#        -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\Libraries\STM32F10x_Speex_Lib\libspeex\
#        -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\Libraries\STM32F10x_Speex_Lib\STM32\include\speex\
#        -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\Libraries\STM32F10x_Speex_Lib\STM32\include\
#        -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\Libraries\STM32F10x_Speex_Lib\STM32\
#        -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\Libraries\STM32F10x_Speex_Lib\STM32\libspeex\
#        -I
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\Libraries\STM32F10x_Speex_Lib\STM32\libspeex\iar\
#        -I D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\Fonts\ -Om --ec++
#    List file    =  
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\KP02_DEVICE_2\List\IAP.lst
#    Object file  =  
#        D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\KP02_DEVICE_2\Obj\IAP.o
#
###############################################################################

D:\WORK\Firmware_LastRelease\_7.0.95\MainMCU\IAP.cpp
      1          /*
      2              Title:
      3              Author:   VN Asliuk(Cardian)
      4              Date:     22.09.2010 12:04:42
      5              Purpose:
      6              Software:
      7              Hardware:
      8              Note:
      9          */
     10          //------------------------------------------------------------------------------------
     11          #include "IAP.h"
     12          #include "TLMX9838.h"
     13          #include "TLcd.h"
     14          #include "TLcdTrace.h"
     15          #include "common.h"
     16          #include "main.h"
     17          #include "THardware.h"
     18          //------------------------------------------------------------------------------------
     19          extern pFunction Jump_To_Application;
     20          extern uint32_t JumpAddress;
     21          //------------------------------------------------------------------------------------
     22          #define IAP_DELAY_TICKS 2

   \                                 In section .bss, align 4
     23          volatile int gl = 0;
   \                     gl:
   \   00000000                      DS8 4

   \                                 In section .bss, align 1
     24          bool BackUpLoading = false;
   \                     BackUpLoading:
   \   00000000                      DS8 1

   \                                 In section .bss, align 4
     25          int  UsartRcv = 0;
   \                     UsartRcv:
   \   00000000                      DS8 4
     26          //------------------------------------------------------------------------------------
     27          

   \                                 In section .text, align 2, keep-with-next
     28          void IAP_Delay()
     29          {
     30            gl = 0;
   \                     _Z9IAP_Delayv: (+1)
   \   00000000   0x....             LDR.N    R0,??DataTable29
   \   00000002   0x2100             MOVS     R1,#+0
   \   00000004   0x6001             STR      R1,[R0, #+0]
     31          	for(int i = 0;i < IAP_DELAY_TICKS;i++)
   \   00000006   0xE008             B.N      ??IAP_Delay_0
     32          	{
     33          //  	for(int j = 0;j < 300000;j++)
     34            	for(int j = 0;j < 500000;j++)
     35              {
     36                gl++;
   \                     ??IAP_Delay_1: (+1)
   \   00000008   0x6803             LDR      R3,[R0, #+0]
   \   0000000A   0x1C5B             ADDS     R3,R3,#+1
   \   0000000C   0x6003             STR      R3,[R0, #+0]
     37          		  __NOP();
   \   0000000E   0xBF00             Nop      
     38              }
   \   00000010   0x1C52             ADDS     R2,R2,#+1
   \                     ??IAP_Delay_2: (+1)
   \   00000012   0x....             LDR.N    R3,??DataTable29_1  ;; 0x7a120
   \   00000014   0x429A             CMP      R2,R3
   \   00000016   0xDBF7             BLT.N    ??IAP_Delay_1
   \   00000018   0x1C49             ADDS     R1,R1,#+1
   \                     ??IAP_Delay_0: (+1)
   \   0000001A   0x2902             CMP      R1,#+2
   \   0000001C   0xDA01             BGE.N    ??IAP_Delay_3
   \   0000001E   0x2200             MOVS     R2,#+0
   \   00000020   0xE7F7             B.N      ??IAP_Delay_2
     39          	}
     40          }
   \                     ??IAP_Delay_3: (+1)
   \   00000022   0x4770             BX       LR               ;; return
     41          //------------------------------------------------------------------------------------
     42          

   \                                 In section .text, align 4, keep-with-next
     43          void __set_MSP2(uint32_t mainStackPointer)
     44          {
     45          	asm(" msr msp, r0 \n"
     46                "	bx lr         ");
   \                     _Z10__set_MSP2j: (+1)
   \   00000000   0xF380 0x8808      msr msp, r0 
   \   00000004   0x4770             bx lr         
     47          }
   \   00000006   0x4770             BX       LR               ;; return
     48          
     49          //------------------------------------------------------------------------------------
     50          

   \                                 In section .text, align 2, keep-with-next
     51          bool IAP_Init()
     52          {
   \                     _Z8IAP_Initv: (+1)
   \   00000000   0xB51C             PUSH     {R2-R4,LR}
     53          	GPIO_InitTypeDef GPIO_InitStructure;
     54          
     55          	RCC_APB1PeriphClockCmd(RCC_APB1Periph_PWR, ENABLE);
   \   00000002   0x2101             MOVS     R1,#+1
   \   00000004   0xF04F 0x5080      MOV      R0,#+268435456
   \   00000008   0x.... 0x....      BL       RCC_APB1PeriphClockCmd
     56          	RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_BKPSRAM, ENABLE );
   \   0000000C   0x2101             MOVS     R1,#+1
   \   0000000E   0xF44F 0x2080      MOV      R0,#+262144
   \   00000012   0x.... 0x....      BL       RCC_AHB1PeriphClockCmd
     57          	RCC_AHB1PeriphClockCmd(UB1_BUTTON_CLK, ENABLE );
   \   00000016   0x2101             MOVS     R1,#+1
   \   00000018   0x2004             MOVS     R0,#+4
   \   0000001A   0x.... 0x....      BL       RCC_AHB1PeriphClockCmd
     58          
     59          	GPIO_InitStructure.GPIO_Pin = UB1_BUTTON_PIN;
   \   0000001E   0x2002             MOVS     R0,#+2
   \   00000020   0x9000             STR      R0,[SP, #+0]
     60          	GPIO_InitStructure.GPIO_Mode =  GPIO_Mode_IN;
   \   00000022   0x2000             MOVS     R0,#+0
   \   00000024   0x9001             STR      R0,[SP, #+4]
     61          	GPIO_InitStructure.GPIO_OType =  GPIO_OType_PP;
     62            GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_NOPULL;
     63          	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_2MHz;
     64          	GPIO_Init( UB1_BUTTON_PORT, &GPIO_InitStructure );
   \   00000026   0x....             LDR.N    R4,??DataTable29_2  ;; 0x40020800
   \   00000028   0xA900             ADD      R1,SP,#+0
   \   0000002A   0x4620             MOV      R0,R4
   \   0000002C   0x.... 0x....      BL       GPIO_Init
     65                  GPIO_Init( UB2_BUTTON_PORT, &GPIO_InitStructure );
   \   00000030   0xA900             ADD      R1,SP,#+0
   \   00000032   0x4620             MOV      R0,R4
   \   00000034   0x.... 0x....      BL       GPIO_Init
     66          
     67            
     68          	uint16_t  mark = RTC_ReadBackupRegister(RTC_BKP_DR2); 
   \   00000038   0x2002             MOVS     R0,#+2
   \   0000003A   0x.... 0x....      BL       RTC_ReadBackupRegister
     69            
     70          	if(mark == BOOTLOADER_IN_MARKER)
   \   0000003E   0xB280             UXTH     R0,R0
   \   00000040   0xF24F 0x51AF      MOVW     R1,#+62895
   \   00000044   0x4288             CMP      R0,R1
   \   00000046   0xD10F             BNE.N    ??IAP_Init_0
     71          	{
     72          	  /* Allow access to BKP Domain */
     73          	  PWR_BackupAccessCmd(ENABLE);
   \   00000048   0x2001             MOVS     R0,#+1
   \   0000004A   0x.... 0x....      BL       PWR_BackupAccessCmd
     74          
     75          	  /* Disable the Tamper Pin */
     76          	  RTC_TamperCmd(RTC_Tamper_1, DISABLE); /* To output RTCCLK/64 on Tamper pin, the tamper
   \   0000004E   0x2100             MOVS     R1,#+0
   \   00000050   0x2001             MOVS     R0,#+1
   \   00000052   0x.... 0x....      BL       RTC_TamperCmd
     77          	                                 functionality must be disabled */
     78          		RTC_WriteBackupRegister(RTC_BKP_DR2,BOOTLOADER_OUT_MARKER);
   \   00000056   0xF645 0x71FA      MOVW     R1,#+24570
   \   0000005A   0x2002             MOVS     R0,#+2
   \   0000005C   0x.... 0x....      BL       RTC_WriteBackupRegister
     79          		BackUpLoading = true;
   \   00000060   0x2001             MOVS     R0,#+1
   \   00000062   0x....             LDR.N    R1,??DataTable29_3
   \   00000064   0x7008             STRB     R0,[R1, #+0]
     80          		return true;
   \   00000066   0xBD16             POP      {R1,R2,R4,PC}
     81          	}
     82            
     83          
     84          //	if(GPIO_ReadInputDataBit(UB1_BUTTON_PORT, UB1_BUTTON_PIN) == 0) return true;
     85          //	else return false;
     86                  if(GPIO_ReadInputDataBit(UB1_BUTTON_PORT, UB1_BUTTON_PIN) == 0){
   \                     ??IAP_Init_0: (+1)
   \   00000068   0x2102             MOVS     R1,#+2
   \   0000006A   0x4620             MOV      R0,R4
   \   0000006C   0x.... 0x....      BL       GPIO_ReadInputDataBit
   \   00000070   0x2800             CMP      R0,#+0
   \   00000072   0xD108             BNE.N    ??IAP_Init_1
     87                    if(GPIO_ReadInputDataBit(UB2_BUTTON_PORT, UB2_BUTTON_PIN) == 0){
   \   00000074   0x2101             MOVS     R1,#+1
   \   00000076   0x4620             MOV      R0,R4
   \   00000078   0x.... 0x....      BL       GPIO_ReadInputDataBit
   \   0000007C   0x1E40             SUBS     R0,R0,#+1
   \   0000007E   0x4180             SBCS     R0,R0,R0
   \   00000080   0x43C0             MVNS     R0,R0
   \   00000082   0x0FC0             LSRS     R0,R0,#+31
     88                      return false;
   \   00000084   0xBD16             POP      {R1,R2,R4,PC}
     89                    } else
     90                    return true;
     91                  }
     92                  else{
     93                    return false;
   \                     ??IAP_Init_1: (+1)
   \   00000086   0x2000             MOVS     R0,#+0
   \   00000088   0xBD16             POP      {R1,R2,R4,PC}    ;; return
     94                  }
     95                  
     96          }
     97          //------------------------------------------------------------------------------
     98          

   \                                 In section .text, align 2, keep-with-next
     99          bool IAP_TransportInit()
    100          {
   \                     _Z17IAP_TransportInitv: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
    101            TLMX9838::BluetoothPHYInit();
   \   00000002   0x.... 0x....      BL       _ZN8TLMX983816BluetoothPHYInitEv
    102            TLcd::LcdPHYInit();
   \   00000006   0x.... 0x....      BL       _ZN4TLcd10LcdPHYInitEv
    103            TLcd::LcdEnable( true );
   \   0000000A   0x2001             MOVS     R0,#+1
   \   0000000C   0x.... 0x....      BL       _ZN4TLcd9LcdEnableEb
    104            TLcd::LCD_Init();
   \   00000010   0x.... 0x....      BL       _ZN4TLcd8LCD_InitEv
    105            TLcdTrace::AddLine("    IAP Ver 3.2.0   ");
   \   00000014   0x.... 0x....      ADR.W    R0,?_0
   \   00000018   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    106            TLMX9838::TurnOnBluetooth();
   \   0000001C   0x.... 0x....      BL       _ZN8TLMX983815TurnOnBluetoothEv
    107            TLcdTrace::AddLine("                    ");
   \   00000020   0x.... 0x....      ADR.W    R0,?_1
   \   00000024   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    108            TLcdTrace::AddLine("Turn on Bluetooth   ");
   \   00000028   0x.... 0x....      ADR.W    R0,?_2
   \   0000002C   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    109          
    110            if(!BackUpLoading)
   \   00000030   0x....             LDR.N    R0,??DataTable29_3
   \   00000032   0x7800             LDRB     R0,[R0, #+0]
   \   00000034   0x2800             CMP      R0,#+0
   \   00000036   0xD113             BNE.N    ??IAP_TransportInit_0
    111            {
    112              TLcdTrace::AddLine("Wait host connect   ");
   \   00000038   0x.... 0x....      ADR.W    R0,?_3
   \   0000003C   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    113              int h;
    114              for(h = 0;h < 100;h++)
   \   00000040   0x2400             MOVS     R4,#+0
   \   00000042   0xE000             B.N      ??IAP_TransportInit_1
   \                     ??IAP_TransportInit_2: (+1)
   \   00000044   0x1C64             ADDS     R4,R4,#+1
   \                     ??IAP_TransportInit_1: (+1)
   \   00000046   0x2C64             CMP      R4,#+100
   \   00000048   0xDA08             BGE.N    ??IAP_TransportInit_3
    115              {
    116                IAP_Delay();
   \   0000004A   0x.... 0x....      BL       _Z9IAP_Delayv
    117                if(GPIO_ReadInputDataBit(LMX_LSTAT_GPIO_PORT,LMX_LSTAT_GPIO_PIN) == 1)
   \   0000004E   0xF44F 0x7100      MOV      R1,#+512
   \   00000052   0x....             LDR.N    R0,??DataTable29_4  ;; 0x40020400
   \   00000054   0x.... 0x....      BL       GPIO_ReadInputDataBit
   \   00000058   0x2801             CMP      R0,#+1
   \   0000005A   0xD1F3             BNE.N    ??IAP_TransportInit_2
    118                {
    119                  break;
    120                }
    121              }
    122              if(h >= 99) 
   \                     ??IAP_TransportInit_3: (+1)
   \   0000005C   0x2C63             CMP      R4,#+99
   \   0000005E   0xDA3D             BGE.N    ??IAP_TransportInit_4
    123                return 0;
    124            }
    125            TLcdTrace::AddLine("Wait host disconnect");
   \                     ??IAP_TransportInit_0: (+1)
   \   00000060   0x.... 0x....      ADR.W    R0,?_4
   \   00000064   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    126          
    127            //Wait for host will connected
    128            int h;
    129            for(h = 0;h < 100;h++)
   \   00000068   0x2400             MOVS     R4,#+0
   \   0000006A   0xE000             B.N      ??IAP_TransportInit_5
   \                     ??IAP_TransportInit_6: (+1)
   \   0000006C   0x1C64             ADDS     R4,R4,#+1
   \                     ??IAP_TransportInit_5: (+1)
   \   0000006E   0x2C64             CMP      R4,#+100
   \   00000070   0xDA08             BGE.N    ??IAP_TransportInit_7
    130            {
    131              IAP_Delay();
   \   00000072   0x.... 0x....      BL       _Z9IAP_Delayv
    132              if(GPIO_ReadInputDataBit(LMX_LSTAT_GPIO_PORT,LMX_LSTAT_GPIO_PIN) == 0)
   \   00000076   0xF44F 0x7100      MOV      R1,#+512
   \   0000007A   0x....             LDR.N    R0,??DataTable29_4  ;; 0x40020400
   \   0000007C   0x.... 0x....      BL       GPIO_ReadInputDataBit
   \   00000080   0x2800             CMP      R0,#+0
   \   00000082   0xD1F3             BNE.N    ??IAP_TransportInit_6
    133              {
    134                break;
    135              }
    136            }
    137              if(h >= 99)
   \                     ??IAP_TransportInit_7: (+1)
   \   00000084   0x2C63             CMP      R4,#+99
   \   00000086   0xDA29             BGE.N    ??IAP_TransportInit_4
    138                return 0;
    139          
    140            TLcdTrace::AddLine("Wait host connect   ");
   \   00000088   0x.... 0x....      ADR.W    R0,?_3
   \   0000008C   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    141            TLcdTrace::AddLine("Waiting for 1 min...");
   \   00000090   0x.... 0x....      ADR.W    R0,?_5
   \   00000094   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    142          
    143            //Wait for host will connected
    144            for(int j = 0;j < 100;j++)
   \   00000098   0x2400             MOVS     R4,#+0
   \   0000009A   0x....             LDR.N    R5,??DataTable29_4  ;; 0x40020400
   \   0000009C   0xE000             B.N      ??IAP_TransportInit_8
   \                     ??IAP_TransportInit_9: (+1)
   \   0000009E   0x1C64             ADDS     R4,R4,#+1
   \                     ??IAP_TransportInit_8: (+1)
   \   000000A0   0x2C64             CMP      R4,#+100
   \   000000A2   0xDA1B             BGE.N    ??IAP_TransportInit_4
    145            {
    146              IAP_Delay();
   \   000000A4   0x.... 0x....      BL       _Z9IAP_Delayv
    147              if(GPIO_ReadInputDataBit(LMX_LSTAT_GPIO_PORT,LMX_LSTAT_GPIO_PIN) == 1)
   \   000000A8   0xF44F 0x7100      MOV      R1,#+512
   \   000000AC   0x4628             MOV      R0,R5
   \   000000AE   0x.... 0x....      BL       GPIO_ReadInputDataBit
   \   000000B2   0x2801             CMP      R0,#+1
   \   000000B4   0xD10C             BNE.N    ??IAP_TransportInit_10
    148              {
    149                while(1)
    150                {
    151                  if( GPIO_ReadInputDataBit(LMX_LSTAT_GPIO_PORT, LMX_LSTAT_GPIO_PIN ))
   \                     ??IAP_TransportInit_11: (+1)
   \   000000B6   0xF44F 0x7100      MOV      R1,#+512
   \   000000BA   0x4628             MOV      R0,R5
   \   000000BC   0x.... 0x....      BL       GPIO_ReadInputDataBit
   \   000000C0   0x2800             CMP      R0,#+0
   \   000000C2   0xD0F8             BEQ.N    ??IAP_TransportInit_11
    152                    break;
    153                }
    154                TLcdTrace::AddLine("Host connected!     ");
   \   000000C4   0x.... 0x....      ADR.W    R0,?_6
   \   000000C8   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    155                return 1;
   \   000000CC   0x2001             MOVS     R0,#+1
   \   000000CE   0xBD32             POP      {R1,R4,R5,PC}
    156              }
    157              if( GPIO_ReadInputDataBit( UB1_BUTTON_PORT, UB1_BUTTON_PIN ) == 0 ) 
   \                     ??IAP_TransportInit_10: (+1)
   \   000000D0   0x2102             MOVS     R1,#+2
   \   000000D2   0x....             LDR.N    R0,??DataTable29_2  ;; 0x40020800
   \   000000D4   0x.... 0x....      BL       GPIO_ReadInputDataBit
   \   000000D8   0x2800             CMP      R0,#+0
   \   000000DA   0xD1E0             BNE.N    ??IAP_TransportInit_9
    158                return 0;
    159            }
    160            return 0;
   \                     ??IAP_TransportInit_4: (+1)
   \   000000DC   0x2000             MOVS     R0,#+0
   \   000000DE   0xBD32             POP      {R1,R4,R5,PC}    ;; return
    161          }
    162          //------------------------------------------------------------------------------
    163          

   \                                 In section .text, align 2, keep-with-next
    164          void IAP_Start()
    165          {
   \                     _Z9IAP_Startv: (+1)
   \   00000000   0xB510             PUSH     {R4,LR}
    166          	if(IAP_Init() == true)
   \   00000002   0x.... 0x....      BL       _Z8IAP_Initv
   \   00000006   0x2800             CMP      R0,#+0
   \   00000008   0xD04C             BEQ.N    ??IAP_Start_0
    167          		{
    168          	    /* If Key is pressed */
    169          	    /* Execute the IAP driver in order to re-program the Flash */
    170          	    if(IAP_TransportInit())
   \   0000000A   0x.... 0x....      BL       _Z17IAP_TransportInitv
   \   0000000E   0x2800             CMP      R0,#+0
   \   00000010   0xD03F             BEQ.N    ??IAP_Start_1
    171          	    	{
    172            				FLASH_Unlock();
   \   00000012   0x.... 0x....      BL       FLASH_Unlock
    173          
    174          				SerialPutString("\r\n======================================================================");
   \   00000016   0x.... 0x....      ADR.W    R4,?_7
   \   0000001A   0x4620             MOV      R0,R4
   \   0000001C   0x.... 0x....      BL       Serial_PutString
    175          				SerialPutString("\r\n=              (C) COPYRIGHT 2010 ST Microelectronics,CARDIAN        =");
   \   00000020   0x.... 0x....      ADR.W    R0,?_8
   \   00000024   0x.... 0x....      BL       Serial_PutString
    176          				SerialPutString("\r\n=     In-Application Programming Application  (Version 3.2.0)        =");
   \   00000028   0x.... 0x....      ADR.W    R0,?_9
   \   0000002C   0x.... 0x....      BL       Serial_PutString
    177          				SerialPutString("\r\n=                                   By MCD Application Team          =");
   \   00000030   0x.... 0x....      ADR.W    R0,?_10
   \   00000034   0x.... 0x....      BL       Serial_PutString
    178          				SerialPutString("\r\n======================================================================");
   \   00000038   0x4620             MOV      R0,R4
   \   0000003A   0x.... 0x....      BL       Serial_PutString
    179          				SerialPutString("\r\nTo download a binary file via HyperTerminal to the STM32F10x’s");
   \   0000003E   0x.... 0x....      ADR.W    R0,?_11
   \   00000042   0x.... 0x....      BL       Serial_PutString
    180          				SerialPutString("\r\n   internal Flash memory, do as follows:");
   \   00000046   0x.... 0x....      ADR.W    R0,?_12
   \   0000004A   0x.... 0x....      BL       Serial_PutString
    181          				SerialPutString("\r\n1. Press 1 on the keyboard to select the Download Image");
   \   0000004E   0x.... 0x....      ADR.W    R0,?_13
   \   00000052   0x.... 0x....      BL       Serial_PutString
    182          				SerialPutString("\r\n		To the STM32F10x Internal Flash menu");
   \   00000056   0x.... 0x....      ADR.W    R0,?_14
   \   0000005A   0x.... 0x....      BL       Serial_PutString
    183          				SerialPutString("\r\n2. Select Send File in the Transfer menu");
   \   0000005E   0x.... 0x....      ADR.W    R0,?_15
   \   00000062   0x.... 0x....      BL       Serial_PutString
    184          				SerialPutString("\r\n3. In the Filename field, type the name and the path");
   \   00000066   0x.... 0x....      ADR.W    R0,?_16
   \   0000006A   0x.... 0x....      BL       Serial_PutString
    185          				SerialPutString("\r\n   of the binary file you want to download");
   \   0000006E   0x.... 0x....      ADR.W    R0,?_17
   \   00000072   0x.... 0x....      BL       Serial_PutString
    186          				SerialPutString("\r\n4. From the protocol list, select the Ymodem protocol");
   \   00000076   0x.... 0x....      ADR.W    R0,?_18
   \   0000007A   0x.... 0x....      BL       Serial_PutString
    187          				SerialPutString("\r\n5. Click on the Send button");
   \   0000007E   0x.... 0x....      ADR.W    R0,?_19
   \   00000082   0x.... 0x....      BL       Serial_PutString
    188          				SerialPutString("\r\n\r\n");
   \   00000086   0x.... 0x....      ADR.W    R0,?_20
   \   0000008A   0x.... 0x....      BL       Serial_PutString
    189          			    Main_Menu ();
   \   0000008E   0x.... 0x....      BL       Main_Menu
    190          			  }
    191          	TLcdTrace::AddLine("Timeout             ");
   \                     ??IAP_Start_1: (+1)
   \   00000092   0x.... 0x....      ADR.W    R0,?_21
   \   00000096   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    192          	TLcdTrace::AddLine("Reboot your device  ");
   \   0000009A   0x.... 0x....      ADR.W    R0,?_22
   \   0000009E   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
   \   000000A2   0xE032             B.N      ??IAP_Start_2
    193          		}
    194            /* Keep the user application running */
    195            else
    196            {
    197              /* Test if user code is programmed starting from address "ApplicationAddress" */
    198              if ((((*(__IO uint32_t*)ApplicationAddress) & 0xFFFE0000 ) == 0x20000000) || (((*(__IO uint32_t*)ApplicationAddress) & 0xFFFF0000 ) == 0x10000000))
   \                     ??IAP_Start_0: (+1)
   \   000000A4   0x....             LDR.N    R0,??DataTable29_5  ;; 0x8020000
   \   000000A6   0x6801             LDR      R1,[R0, #+0]
   \   000000A8   0x0C49             LSRS     R1,R1,#+17
   \   000000AA   0x0449             LSLS     R1,R1,#+17
   \   000000AC   0xF1B1 0x5F00      CMP      R1,#+536870912
   \   000000B0   0xD005             BEQ.N    ??IAP_Start_3
   \   000000B2   0x6801             LDR      R1,[R0, #+0]
   \   000000B4   0x0C09             LSRS     R1,R1,#+16
   \   000000B6   0x0409             LSLS     R1,R1,#+16
   \   000000B8   0xF1B1 0x5F80      CMP      R1,#+268435456
   \   000000BC   0xD10A             BNE.N    ??IAP_Start_4
    199              {
    200                /* Jump to user application */
    201                JumpAddress = *(__IO uint32_t*) (ApplicationAddress + 4);
   \                     ??IAP_Start_3: (+1)
   \   000000BE   0x6841             LDR      R1,[R0, #+4]
   \   000000C0   0x....             LDR.N    R2,??DataTable29_6
   \   000000C2   0x6011             STR      R1,[R2, #+0]
    202                Jump_To_Application = (pFunction) JumpAddress;
   \   000000C4   0x....             LDR.N    R2,??DataTable29_7
   \   000000C6   0x6011             STR      R1,[R2, #+0]
    203                /* Initialize user application's Stack Pointer */
    204                __set_MSP(*(__IO uint32_t*) ApplicationAddress);
   \   000000C8   0x6800             LDR      R0,[R0, #+0]
   \   000000CA   0xF380 0x8808      MSR      MSP,R0
    205                Jump_To_Application();
   \   000000CE   0x4608             MOV      R0,R1
   \   000000D0   0x4780             BLX      R0
   \   000000D2   0xE01A             B.N      ??IAP_Start_2
    206              }
    207              else
    208              {
    209          	TLcd::LcdPHYInit();
   \                     ??IAP_Start_4: (+1)
   \   000000D4   0x.... 0x....      BL       _ZN4TLcd10LcdPHYInitEv
    210          	TLcd::LcdEnable( true );
   \   000000D8   0x2001             MOVS     R0,#+1
   \   000000DA   0x.... 0x....      BL       _ZN4TLcd9LcdEnableEb
    211          	TLcd::LCD_Init();
   \   000000DE   0x.... 0x....      BL       _ZN4TLcd8LCD_InitEv
    212          	TLcdTrace::AddLine("    IAP Ver 3.2.0   ");
   \   000000E2   0x.... 0x....      ADR.W    R0,?_0
   \   000000E6   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    213          	TLcdTrace::AddLine("                    ");
   \   000000EA   0x.... 0x....      ADR.W    R0,?_1
   \   000000EE   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    214          	TLcdTrace::AddLine("Error in firmware   ");
   \   000000F2   0x.... 0x....      ADR.W    R0,?_23
   \   000000F6   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    215          	TLcdTrace::AddLine("Call for service    ");
   \   000000FA   0x.... 0x....      ADR.W    R0,?_24
   \   000000FE   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    216          	TLcdTrace::AddLine("+375 (17) 363-41-38 ");
   \   00000102   0x.... 0x....      ADR.W    R0,?_25
   \   00000106   0x.... 0x....      BL       _ZN9TLcdTrace7AddLineEPKc
    217              }
    218            }
    219          
    220            while (1)
   \                     ??IAP_Start_2: (+1)
   \   0000010A   0xE7FE             B.N      ??IAP_Start_2
    221            {}
    222          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable29:
   \   00000000   0x........         DC32     gl

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable29_1:
   \   00000000   0x0007A120         DC32     0x7a120

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable29_2:
   \   00000000   0x40020800         DC32     0x40020800

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable29_3:
   \   00000000   0x........         DC32     BackUpLoading

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable29_4:
   \   00000000   0x40020400         DC32     0x40020400

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable29_5:
   \   00000000   0x08020000         DC32     0x8020000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable29_6:
   \   00000000   0x........         DC32     JumpAddress

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable29_7:
   \   00000000   0x........         DC32     Jump_To_Application

   \                                 In section .text, align 4, keep-with-next
   \                     ?_0:
   \   00000000   0x20 0x20          DC8 "    IAP Ver 3.2.0   "
   \              0x20 0x20    
   \              0x49 0x41    
   \              0x50 0x20    
   \              0x56 0x65    
   \              0x72 0x20    
   \              0x33 0x2E    
   \              0x32 0x2E    
   \              0x30 0x20    
   \              0x20 0x20    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_1:
   \   00000000   0x20 0x20          DC8 "                    "
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_2:
   \   00000000   0x54 0x75          DC8 "Turn on Bluetooth   "
   \              0x72 0x6E    
   \              0x20 0x6F    
   \              0x6E 0x20    
   \              0x42 0x6C    
   \              0x75 0x65    
   \              0x74 0x6F    
   \              0x6F 0x74    
   \              0x68 0x20    
   \              0x20 0x20    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_3:
   \   00000000   0x57 0x61          DC8 "Wait host connect   "
   \              0x69 0x74    
   \              0x20 0x68    
   \              0x6F 0x73    
   \              0x74 0x20    
   \              0x63 0x6F    
   \              0x6E 0x6E    
   \              0x65 0x63    
   \              0x74 0x20    
   \              0x20 0x20    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_4:
   \   00000000   0x57 0x61          DC8 "Wait host disconnect"
   \              0x69 0x74    
   \              0x20 0x68    
   \              0x6F 0x73    
   \              0x74 0x20    
   \              0x64 0x69    
   \              0x73 0x63    
   \              0x6F 0x6E    
   \              0x6E 0x65    
   \              0x63 0x74    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_5:
   \   00000000   0x57 0x61          DC8 "Waiting for 1 min..."
   \              0x69 0x74    
   \              0x69 0x6E    
   \              0x67 0x20    
   \              0x66 0x6F    
   \              0x72 0x20    
   \              0x31 0x20    
   \              0x6D 0x69    
   \              0x6E 0x2E    
   \              0x2E 0x2E    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_6:
   \   00000000   0x48 0x6F          DC8 "Host connected!     "
   \              0x73 0x74    
   \              0x20 0x63    
   \              0x6F 0x6E    
   \              0x6E 0x65    
   \              0x63 0x74    
   \              0x65 0x64    
   \              0x21 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_7:
   \   00000000   0x0D 0x0A          DC8 0DH, 0AH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \   00000008   0x3D 0x3D          DC8 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \   00000010   0x3D 0x3D          DC8 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \   00000018   0x3D 0x3D          DC8 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \   00000020   0x3D 0x3D          DC8 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \   00000028   0x3D 0x3D          DC8 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \   00000030   0x3D 0x3D          DC8 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \   00000038   0x3D 0x3D          DC8 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \   00000040   0x3D 0x3D          DC8 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH, 3DH
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \              0x3D 0x3D    
   \   00000048   0x00               DC8 0
   \   00000049   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_8:
   \   00000000   0x0D 0x0A          DC8 0DH, 0AH, 3DH, 20H, 20H, 20H, 20H, 20H
   \              0x3D 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \   00000008   0x20 0x20          DC8 20H, 20H, 20H, 20H, 20H, 20H, 20H, 20H
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \   00000010   0x20 0x28          DC8 20H, 28H, 43H, 29H, 20H, 43H, 4FH, 50H
   \              0x43 0x29    
   \              0x20 0x43    
   \              0x4F 0x50    
   \   00000018   0x59 0x52          DC8 59H, 52H, 49H, 47H, 48H, 54H, 20H, 32H
   \              0x49 0x47    
   \              0x48 0x54    
   \              0x20 0x32    
   \   00000020   0x30 0x31          DC8 30H, 31H, 30H, 20H, 53H, 54H, 20H, 4DH
   \              0x30 0x20    
   \              0x53 0x54    
   \              0x20 0x4D    
   \   00000028   0x69 0x63          DC8 69H, 63H, 72H, 6FH, 65H, 6CH, 65H, 63H
   \              0x72 0x6F    
   \              0x65 0x6C    
   \              0x65 0x63    
   \   00000030   0x74 0x72          DC8 74H, 72H, 6FH, 6EH, 69H, 63H, 73H, 2CH
   \              0x6F 0x6E    
   \              0x69 0x63    
   \              0x73 0x2C    
   \   00000038   0x43 0x41          DC8 43H, 41H, 52H, 44H, 49H, 41H, 4EH, 20H
   \              0x52 0x44    
   \              0x49 0x41    
   \              0x4E 0x20    
   \   00000040   0x20 0x20          DC8 20H, 20H, 20H, 20H, 20H, 20H, 20H, 3DH
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x3D    
   \   00000048   0x00               DC8 0
   \   00000049   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_9:
   \   00000000   0x0D 0x0A          DC8 0DH, 0AH, 3DH, 20H, 20H, 20H, 20H, 20H
   \              0x3D 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \   00000008   0x49 0x6E          DC8 49H, 6EH, 2DH, 41H, 70H, 70H, 6CH, 69H
   \              0x2D 0x41    
   \              0x70 0x70    
   \              0x6C 0x69    
   \   00000010   0x63 0x61          DC8 63H, 61H, 74H, 69H, 6FH, 6EH, 20H, 50H
   \              0x74 0x69    
   \              0x6F 0x6E    
   \              0x20 0x50    
   \   00000018   0x72 0x6F          DC8 72H, 6FH, 67H, 72H, 61H, 6DH, 6DH, 69H
   \              0x67 0x72    
   \              0x61 0x6D    
   \              0x6D 0x69    
   \   00000020   0x6E 0x67          DC8 6EH, 67H, 20H, 41H, 70H, 70H, 6CH, 69H
   \              0x20 0x41    
   \              0x70 0x70    
   \              0x6C 0x69    
   \   00000028   0x63 0x61          DC8 63H, 61H, 74H, 69H, 6FH, 6EH, 20H, 20H
   \              0x74 0x69    
   \              0x6F 0x6E    
   \              0x20 0x20    
   \   00000030   0x28 0x56          DC8 28H, 56H, 65H, 72H, 73H, 69H, 6FH, 6EH
   \              0x65 0x72    
   \              0x73 0x69    
   \              0x6F 0x6E    
   \   00000038   0x20 0x33          DC8 20H, 33H, 2EH, 32H, 2EH, 30H, 29H, 20H
   \              0x2E 0x32    
   \              0x2E 0x30    
   \              0x29 0x20    
   \   00000040   0x20 0x20          DC8 20H, 20H, 20H, 20H, 20H, 20H, 20H, 3DH
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x3D    
   \   00000048   0x00               DC8 0
   \   00000049   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_10:
   \   00000000   0x0D 0x0A          DC8 0DH, 0AH, 3DH, 20H, 20H, 20H, 20H, 20H
   \              0x3D 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \   00000008   0x20 0x20          DC8 20H, 20H, 20H, 20H, 20H, 20H, 20H, 20H
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \   00000010   0x20 0x20          DC8 20H, 20H, 20H, 20H, 20H, 20H, 20H, 20H
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \   00000018   0x20 0x20          DC8 20H, 20H, 20H, 20H, 20H, 20H, 20H, 20H
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \   00000020   0x20 0x20          DC8 20H, 20H, 20H, 20H, 20H, 20H, 42H, 79H
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x42 0x79    
   \   00000028   0x20 0x4D          DC8 20H, 4DH, 43H, 44H, 20H, 41H, 70H, 70H
   \              0x43 0x44    
   \              0x20 0x41    
   \              0x70 0x70    
   \   00000030   0x6C 0x69          DC8 6CH, 69H, 63H, 61H, 74H, 69H, 6FH, 6EH
   \              0x63 0x61    
   \              0x74 0x69    
   \              0x6F 0x6E    
   \   00000038   0x20 0x54          DC8 20H, 54H, 65H, 61H, 6DH, 20H, 20H, 20H
   \              0x65 0x61    
   \              0x6D 0x20    
   \              0x20 0x20    
   \   00000040   0x20 0x20          DC8 20H, 20H, 20H, 20H, 20H, 20H, 20H, 3DH
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x3D    
   \   00000048   0x00               DC8 0
   \   00000049   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_11:
   \   00000000   0x0D 0x0A          DC8 0DH, 0AH, 54H, 6FH, 20H, 64H, 6FH, 77H
   \              0x54 0x6F    
   \              0x20 0x64    
   \              0x6F 0x77    
   \   00000008   0x6E 0x6C          DC8 6EH, 6CH, 6FH, 61H, 64H, 20H, 61H, 20H
   \              0x6F 0x61    
   \              0x64 0x20    
   \              0x61 0x20    
   \   00000010   0x62 0x69          DC8 62H, 69H, 6EH, 61H, 72H, 79H, 20H, 66H
   \              0x6E 0x61    
   \              0x72 0x79    
   \              0x20 0x66    
   \   00000018   0x69 0x6C          DC8 69H, 6CH, 65H, 20H, 76H, 69H, 61H, 20H
   \              0x65 0x20    
   \              0x76 0x69    
   \              0x61 0x20    
   \   00000020   0x48 0x79          DC8 48H, 79H, 70H, 65H, 72H, 54H, 65H, 72H
   \              0x70 0x65    
   \              0x72 0x54    
   \              0x65 0x72    
   \   00000028   0x6D 0x69          DC8 6DH, 69H, 6EH, 61H, 6CH, 20H, 74H, 6FH
   \              0x6E 0x61    
   \              0x6C 0x20    
   \              0x74 0x6F    
   \   00000030   0x20 0x74          DC8 20H, 74H, 68H, 65H, 20H, 53H, 54H, 4DH
   \              0x68 0x65    
   \              0x20 0x53    
   \              0x54 0x4D    
   \   00000038   0x33 0x32          DC8 33H, 32H, 46H, 31H, 30H, 78H, 92H, 73H
   \              0x46 0x31    
   \              0x30 0x78    
   \              0x92 0x73    
   \   00000040   0x00               DC8 0
   \   00000041   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_12:
   \   00000000   0x0D 0x0A          DC8 "\015\012   internal Flash memory, do as follows:"
   \              0x20 0x20    
   \              0x20 0x69    
   \              0x6E 0x74    
   \              0x65 0x72    
   \              0x6E 0x61    
   \              0x6C 0x20    
   \              0x46 0x6C    
   \              0x61 0x73    
   \              0x68 0x20    
   \              0x6D 0x65    
   \              0x6D 0x6F    
   \              0x72 0x79    
   \              0x2C 0x20    
   \              0x64 0x6F    
   \              0x20 0x61    
   \              0x73 0x20    
   \              0x66 0x6F    
   \              0x6C 0x6C    
   \              0x6F 0x77    
   \              0x73 0x3A    
   \              0x00         
   \   0000002B   0x00               DC8 0

   \                                 In section .text, align 4, keep-with-next
   \                     ?_13:
   \   00000000   0x0D 0x0A          DC8 0DH, 0AH, 31H, 2EH, 20H, 50H, 72H, 65H
   \              0x31 0x2E    
   \              0x20 0x50    
   \              0x72 0x65    
   \   00000008   0x73 0x73          DC8 73H, 73H, 20H, 31H, 20H, 6FH, 6EH, 20H
   \              0x20 0x31    
   \              0x20 0x6F    
   \              0x6E 0x20    
   \   00000010   0x74 0x68          DC8 74H, 68H, 65H, 20H, 6BH, 65H, 79H, 62H
   \              0x65 0x20    
   \              0x6B 0x65    
   \              0x79 0x62    
   \   00000018   0x6F 0x61          DC8 6FH, 61H, 72H, 64H, 20H, 74H, 6FH, 20H
   \              0x72 0x64    
   \              0x20 0x74    
   \              0x6F 0x20    
   \   00000020   0x73 0x65          DC8 73H, 65H, 6CH, 65H, 63H, 74H, 20H, 74H
   \              0x6C 0x65    
   \              0x63 0x74    
   \              0x20 0x74    
   \   00000028   0x68 0x65          DC8 68H, 65H, 20H, 44H, 6FH, 77H, 6EH, 6CH
   \              0x20 0x44    
   \              0x6F 0x77    
   \              0x6E 0x6C    
   \   00000030   0x6F 0x61          DC8 6FH, 61H, 64H, 20H, 49H, 6DH, 61H, 67H
   \              0x64 0x20    
   \              0x49 0x6D    
   \              0x61 0x67    
   \   00000038   0x65 0x00          DC8 65H, 0
   \   0000003A   0x00 0x00          DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     ?_14:
   \   00000000   0x0D 0x0A          DC8 "\015\012\t\tTo the STM32F10x Internal Flash menu"
   \              0x09 0x09    
   \              0x54 0x6F    
   \              0x20 0x74    
   \              0x68 0x65    
   \              0x20 0x53    
   \              0x54 0x4D    
   \              0x33 0x32    
   \              0x46 0x31    
   \              0x30 0x78    
   \              0x20 0x49    
   \              0x6E 0x74    
   \              0x65 0x72    
   \              0x6E 0x61    
   \              0x6C 0x20    
   \              0x46 0x6C    
   \              0x61 0x73    
   \              0x68 0x20    
   \              0x6D 0x65    
   \              0x6E 0x75    
   \              0x00         
   \   00000029   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_15:
   \   00000000   0x0D 0x0A          DC8 "\015\0122. Select Send File in the Transfer menu"
   \              0x32 0x2E    
   \              0x20 0x53    
   \              0x65 0x6C    
   \              0x65 0x63    
   \              0x74 0x20    
   \              0x53 0x65    
   \              0x6E 0x64    
   \              0x20 0x46    
   \              0x69 0x6C    
   \              0x65 0x20    
   \              0x69 0x6E    
   \              0x20 0x74    
   \              0x68 0x65    
   \              0x20 0x54    
   \              0x72 0x61    
   \              0x6E 0x73    
   \              0x66 0x65    
   \              0x72 0x20    
   \              0x6D 0x65    
   \              0x6E 0x75    
   \              0x00         
   \   0000002B   0x00               DC8 0

   \                                 In section .text, align 4, keep-with-next
   \                     ?_16:
   \   00000000   0x0D 0x0A          DC8 0DH, 0AH, 33H, 2EH, 20H, 49H, 6EH, 20H
   \              0x33 0x2E    
   \              0x20 0x49    
   \              0x6E 0x20    
   \   00000008   0x74 0x68          DC8 74H, 68H, 65H, 20H, 46H, 69H, 6CH, 65H
   \              0x65 0x20    
   \              0x46 0x69    
   \              0x6C 0x65    
   \   00000010   0x6E 0x61          DC8 6EH, 61H, 6DH, 65H, 20H, 66H, 69H, 65H
   \              0x6D 0x65    
   \              0x20 0x66    
   \              0x69 0x65    
   \   00000018   0x6C 0x64          DC8 6CH, 64H, 2CH, 20H, 74H, 79H, 70H, 65H
   \              0x2C 0x20    
   \              0x74 0x79    
   \              0x70 0x65    
   \   00000020   0x20 0x74          DC8 20H, 74H, 68H, 65H, 20H, 6EH, 61H, 6DH
   \              0x68 0x65    
   \              0x20 0x6E    
   \              0x61 0x6D    
   \   00000028   0x65 0x20          DC8 65H, 20H, 61H, 6EH, 64H, 20H, 74H, 68H
   \              0x61 0x6E    
   \              0x64 0x20    
   \              0x74 0x68    
   \   00000030   0x65 0x20          DC8 65H, 20H, 70H, 61H, 74H, 68H, 0
   \              0x70 0x61    
   \              0x74 0x68    
   \              0x00         
   \   00000037   0x00               DC8 0

   \                                 In section .text, align 4, keep-with-next
   \                     ?_17:
   \   00000000   0x0D 0x0A          DC8 "\015\012   of the binary file you want to download"
   \              0x20 0x20    
   \              0x20 0x6F    
   \              0x66 0x20    
   \              0x74 0x68    
   \              0x65 0x20    
   \              0x62 0x69    
   \              0x6E 0x61    
   \              0x72 0x79    
   \              0x20 0x66    
   \              0x69 0x6C    
   \              0x65 0x20    
   \              0x79 0x6F    
   \              0x75 0x20    
   \              0x77 0x61    
   \              0x6E 0x74    
   \              0x20 0x74    
   \              0x6F 0x20    
   \              0x64 0x6F    
   \              0x77 0x6E    
   \              0x6C 0x6F    
   \              0x61 0x64    
   \              0x00         
   \   0000002D   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_18:
   \   00000000   0x0D 0x0A          DC8 0DH, 0AH, 34H, 2EH, 20H, 46H, 72H, 6FH
   \              0x34 0x2E    
   \              0x20 0x46    
   \              0x72 0x6F    
   \   00000008   0x6D 0x20          DC8 6DH, 20H, 74H, 68H, 65H, 20H, 70H, 72H
   \              0x74 0x68    
   \              0x65 0x20    
   \              0x70 0x72    
   \   00000010   0x6F 0x74          DC8 6FH, 74H, 6FH, 63H, 6FH, 6CH, 20H, 6CH
   \              0x6F 0x63    
   \              0x6F 0x6C    
   \              0x20 0x6C    
   \   00000018   0x69 0x73          DC8 69H, 73H, 74H, 2CH, 20H, 73H, 65H, 6CH
   \              0x74 0x2C    
   \              0x20 0x73    
   \              0x65 0x6C    
   \   00000020   0x65 0x63          DC8 65H, 63H, 74H, 20H, 74H, 68H, 65H, 20H
   \              0x74 0x20    
   \              0x74 0x68    
   \              0x65 0x20    
   \   00000028   0x59 0x6D          DC8 59H, 6DH, 6FH, 64H, 65H, 6DH, 20H, 70H
   \              0x6F 0x64    
   \              0x65 0x6D    
   \              0x20 0x70    
   \   00000030   0x72 0x6F          DC8 72H, 6FH, 74H, 6FH, 63H, 6FH, 6CH, 0
   \              0x74 0x6F    
   \              0x63 0x6F    
   \              0x6C 0x00    

   \                                 In section .text, align 4, keep-with-next
   \                     ?_19:
   \   00000000   0x0D 0x0A          DC8 "\015\0125. Click on the Send button"
   \              0x35 0x2E    
   \              0x20 0x43    
   \              0x6C 0x69    
   \              0x63 0x6B    
   \              0x20 0x6F    
   \              0x6E 0x20    
   \              0x74 0x68    
   \              0x65 0x20    
   \              0x53 0x65    
   \              0x6E 0x64    
   \              0x20 0x62    
   \              0x75 0x74    
   \              0x74 0x6F    
   \              0x6E 0x00    
   \   0000001E   0x00 0x00          DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     ?_20:
   \   00000000   0x0D 0x0A          DC8 "\015\012\015\012"
   \              0x0D 0x0A    
   \              0x00         
   \   00000005   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_21:
   \   00000000   0x54 0x69          DC8 "Timeout             "
   \              0x6D 0x65    
   \              0x6F 0x75    
   \              0x74 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_22:
   \   00000000   0x52 0x65          DC8 "Reboot your device  "
   \              0x62 0x6F    
   \              0x6F 0x74    
   \              0x20 0x79    
   \              0x6F 0x75    
   \              0x72 0x20    
   \              0x64 0x65    
   \              0x76 0x69    
   \              0x63 0x65    
   \              0x20 0x20    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_23:
   \   00000000   0x45 0x72          DC8 "Error in firmware   "
   \              0x72 0x6F    
   \              0x72 0x20    
   \              0x69 0x6E    
   \              0x20 0x66    
   \              0x69 0x72    
   \              0x6D 0x77    
   \              0x61 0x72    
   \              0x65 0x20    
   \              0x20 0x20    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_24:
   \   00000000   0x43 0x61          DC8 "Call for service    "
   \              0x6C 0x6C    
   \              0x20 0x66    
   \              0x6F 0x72    
   \              0x20 0x73    
   \              0x65 0x72    
   \              0x76 0x69    
   \              0x63 0x65    
   \              0x20 0x20    
   \              0x20 0x20    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     ?_25:
   \   00000000   0x2B 0x33          DC8 "+375 (17) 363-41-38 "
   \              0x37 0x35    
   \              0x20 0x28    
   \              0x31 0x37    
   \              0x29 0x20    
   \              0x33 0x36    
   \              0x33 0x2D    
   \              0x34 0x31    
   \              0x2D 0x33    
   \              0x38 0x20    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         
    223          //------------------------------------------------------------------------------------

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   IAP_Delay()
      16   IAP_Init()
        16   -> GPIO_Init
        16   -> GPIO_ReadInputDataBit
        16   -> PWR_BackupAccessCmd
        16   -> RCC_AHB1PeriphClockCmd
        16   -> RCC_APB1PeriphClockCmd
        16   -> RTC_ReadBackupRegister
        16   -> RTC_TamperCmd
        16   -> RTC_WriteBackupRegister
       8   IAP_Start()
         8   -- Indirect call
         8   -> FLASH_Unlock
         8   -> IAP_Init()
         8   -> IAP_TransportInit()
         8   -> Main_Menu
         8   -> Serial_PutString
         8   -> TLcd::LCD_Init()
         8   -> TLcd::LcdEnable(bool)
         8   -> TLcd::LcdPHYInit()
         8   -> TLcdTrace::AddLine(char const *)
      16   IAP_TransportInit()
        16   -> GPIO_ReadInputDataBit
        16   -> IAP_Delay()
        16   -> TLMX9838::BluetoothPHYInit()
        16   -> TLMX9838::TurnOnBluetooth()
        16   -> TLcd::LCD_Init()
        16   -> TLcd::LcdEnable(bool)
        16   -> TLcd::LcdPHYInit()
        16   -> TLcdTrace::AddLine(char const *)
       0   __set_MSP2(uint32_t)


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable29
       4  ??DataTable29_1
       4  ??DataTable29_2
       4  ??DataTable29_3
       4  ??DataTable29_4
       4  ??DataTable29_5
       4  ??DataTable29_6
       4  ??DataTable29_7
      24  ?_0
      24  ?_1
      76  ?_10
      68  ?_11
      44  ?_12
      60  ?_13
      44  ?_14
      44  ?_15
      56  ?_16
      48  ?_17
      56  ?_18
      32  ?_19
      24  ?_2
       8  ?_20
      24  ?_21
      24  ?_22
      24  ?_23
      24  ?_24
      24  ?_25
      24  ?_3
      24  ?_4
      24  ?_5
      24  ?_6
      76  ?_7
      76  ?_8
      76  ?_9
       1  BackUpLoading
      36  IAP_Delay()
     138  IAP_Init()
     268  IAP_Start()
     224  IAP_TransportInit()
       4  UsartRcv
       8  __set_MSP2(uint32_t)
       4  gl

 
     9 bytes in section .bss
 1 758 bytes in section .text
 
 1 758 bytes of CODE memory
     9 bytes of DATA memory

Errors: none
Warnings: none
